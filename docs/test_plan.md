# テスト計画書

## 1. テスト戦略

本プロジェクトでは、主に以下のテスト戦略を採用します。

- **ユニットテスト**: 各コンポーネント、フック、ストア、ユーティリティ関数が単体で正しく機能することを確認します。JestとReact Testing Libraryを使用します。
- **結合テスト**: 複数のコンポーネントやモジュールが連携して正しく動作することを確認します。
- **UIテスト**: ユーザーインターフェースの表示と操作が要件通りであることを確認します（手動テストまたはE2Eテストの検討）。

## 2. テストケース設計

### 2.1. タイトル表示の変更
- **対象ファイル**: `src/App.tsx`
- **テスト要件**: 
    - ロジックテスト: 現在の日付と曜日が正しいフォーマットで表示されること。
    - 要件テスト: 「My Todos」ではなく、日付と曜日が表示されること。
- **テストファイル**: `tests/test_App.ts` (新規作成)

### 2.2. TODO追加フォームの表示制御
- **対象ファイル**: `src/App.tsx`, `src/components/TodoForm.tsx`
- **テスト要件**: 
    - ロジックテスト: デフォルトでTODO追加フォームが非表示であること。
    - ロジックテスト: TODO画面の空きスペースをクリックするとフォームが表示されること。
    - ロジックテスト: フォームが表示されている状態で再度クリックすると非表示になること。
- **テストファイル**: `tests/test_App.ts`, `tests/test_TodoForm.ts` (新規作成)

### 2.3. トマトタイマー画面の非表示
- **対象ファイル**: `src/App.tsx`, `src/components/PomodoroTimer.tsx`
- **テスト要件**: 
    - ロジックテスト: `PomodoroTimer.tsx`コンポーネントがレンダリングされないこと。
- **テストファイル**: `tests/test_App.ts`

### 2.4. 25分タイマーの挙動変更
- **対象ファイル**: `src/hooks/usePomodoroTimer.ts`, `src/App.tsx`
- **テスト要件**: 
    - ロジックテスト: 25分タイマー完了後、5分タイマーに移行しないこと。
    - ロジックテスト: 進捗円（またはTODOエリア）をクリックすると25分タイマーが再開すること。
- **テストファイル**: `tests/test_usePomodoroTimer.ts`

### 2.5. 5分タイマーの残り時間表示
- **対象ファイル**: `src/App.tsx`, `src/hooks/usePomodoroTimer.ts`
- **テスト要件**: 
    - ロジックテスト: 5分タイマーが動作している時のみ、TODO画面上部に残り時間が表示されること。
    - ロジックテスト: 5分タイマーが停止している時は残り時間が表示されないこと。
    - ロジックテスト: 表示される残り時間が正しいフォーマットであること。
- **テストファイル**: `tests/test_App.ts`, `tests/test_usePomodoroTimer.ts`

### 2.6. TODOの消費時間表示
- **対象ファイル**: `src/components/TodoItem.tsx`
- **テスト要件**: 
    - ロジックテスト: 消費時間が1の場合、「x」と表示されること。
    - ロジックテスト: 消費時間が2以上の場合、「Nx」（Nは個数）と表示されること。
    - ロジックテスト: 消費時間が0の場合、何も表示されないこと。
- **テストファイル**: `tests/test_TodoItem.ts` (新規作成)

### 2.7. 優先度表示の変更
- **対象ファイル**: `src/types/todo.ts`, `src/components/TodoForm.tsx`, `src/components/TodoItem.tsx`
- **テスト要件**: 
    - ロジックテスト: 優先度入力が「はい/いいえ」の二択であること。
    - ロジックテスト: 「はい」の場合のみTODOタイトル前に「！」が表示されること。
    - ロジックテスト: 「いいえ」の場合、「！」が表示されないこと。
- **テストファイル**: `tests/test_TodoForm.ts`, `tests/test_TodoItem.ts`

### 2.8. 期日表示の追加
- **対象ファイル**: `src/types/todo.ts`, `src/components/TodoForm.tsx`, `src/components/TodoItem.tsx`
- **テスト要件**: 
    - ロジックテスト: 期日を入力できるフィールドがあること。
    - ロジックテスト: 期日がTODOタイトルの下の行に小さめに表示されること。
    - 境界値テスト: 期日が設定されていない場合、表示されないこと。
    - 境界値テスト: 無効な期日が入力された場合の挙動。
- **テストファイル**: `tests/test_TodoForm.ts`, `tests/test_TodoItem.ts`

## 3. テスト環境構築手順

1. Node.jsとnpm (またはYarn) がインストールされていることを確認します。
2. プロジェクトのルートディレクトリで以下のコマンドを実行し、依存関係をインストールします。
   `npm install` または `yarn install`
3. ユニットテストを実行するには、以下のコマンドを使用します。
   `npm test` または `yarn test` 